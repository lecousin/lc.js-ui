lc.app.onDefined("lc.ui.Panel",function(){lc.core.extendClass("lc.ui.Panel.Collapsible",lc.ui.Panel.Extension,function(){},{priority:-1e3,extensionName:"collapsible",postConfigure:function(e){e.collapseDiv=document.createElement("DIV"),e.collapseDiv.className="lc-panel-collapse lc-panel-expanded",e.collapse=function(){lc.animation.collapseHeight(this.content,500).ondone(new lc.async.Callback(this,function(){this.content.style.height="0px",this.content.style.paddingTop="0px",this.content.style.paddingBottom="0px",this.content.style.overflow="hidden"})),lc.css.removeClass(this.collapseDiv,"lc-panel-expanded"),lc.css.addClass(this.collapseDiv,"lc-panel-collapsed")},e.expand=function(){this.content.style.height="",this.content.style.paddingTop="",this.content.style.paddingBottom="",this.content.style.overflow="",lc.animation.expandHeight(this.content,500),lc.css.addClass(this.collapseDiv,"lc-panel-expanded"),lc.css.removeClass(this.collapseDiv,"lc-panel-collapsed")},e.toggleCollapsed=function(){this.isExpanded()?this.collapse():this.expand()},e.isCollapsed=function(){return lc.css.hasClass(this.collapseDiv,"lc-panel-collapsed")},e.isExpanded=function(){return!this.isCollapsed()}},postBuild:function(e){lc.events.listen(e.collapseDiv,"click",new lc.async.Callback(e,e.toggleCollapsed)),e.rightDiv.appendChild(e.collapseDiv)},destroy:function(e){e.collapseDiv&&(lc.events.destroyed(e.collapseDiv),e.collapseDiv.parentNode&&e.collapseDiv.parentNode.removeChild(e.collapseDiv),e.collapseDiv=null,lc.ui.Component.Extension.call(this,e))}}),lc.Extension.Registry.register(lc.ui.Panel,lc.ui.Panel.Collapsible)}),lc.app.onDefined("lc.ui.Component",function(){lc.core.extendClass("lc.ui.Panel",lc.ui.Component,function(e,t,n){lc.ui.Component.call(this,e,t,n)},{componentName:"lc-panel",configure:function(){this.header=document.createElement("DIV"),this.header.className="lc-panel-header",this.content=document.createElement("DIV"),this.content.className="lc-panel-content",this.titleDiv=document.createElement("DIV"),this.titleDiv.className="lc-panel-title",this.header.appendChild(this.titleDiv),this.leftDiv=document.createElement("DIV"),this.leftDiv.className="lc-panel-header-left",this.header.appendChild(this.leftDiv),this.rightDiv=document.createElement("DIV"),this.rightDiv.className="lc-panel-header-right",this.header.appendChild(this.rightDiv)},build:function(){for(;0<this.container.childNodes.length;){var e=this.container.removeChild(this.container.childNodes[0]);if(1==e.nodeType)if("TITLE"==e.nodeName)for(;0<e.childNodes.length;)this.titleDiv.appendChild(e.removeChild(e.childNodes[0]));else if("CONTENT"==e.nodeName)for(;0<e.childNodes.length;)this.content.appendChild(e.removeChild(e.childNodes[0]))}this.container.appendChild(this.header),this.container.appendChild(this.content)},destroy:function(){lc.events.destroyed(this.header),this.header=null,this.titleDiv=null,this.leftDiv=null,this.rightDiv=null,lc.events.destroyed(this.content),this.content=null,lc.ui.Component.prototype.destroy.call(this)}}),lc.ui.Component.Registry.register(lc.ui.Panel),lc.core.extendClass("lc.ui.Panel.Extension",lc.ui.Component.Extension,function(){},{})}),lc.app.onDefined(["lc.Extendable","lc.events.Producer","lc.Context"],function(){lc.core.extendClass("lc.ui.Component",[lc.Extendable,lc.events.Producer],function(e,t,n){if(!this.componentName)throw"lc.ui.Component must declare its componentName";if("string"==typeof e){if(this.container=document.getElementById(e),!this.container)throw"Cannot find lc.ui.Component container id '"+e+"' for component type "+this.componentName}else this.container=e||document.createElement("DIV");lc.Context.get(this.container).addProperty("lc.ui.Component",this),lc.events.listen(this.container,"destroy",new lc.async.Callback(this,this.destroy)),lc.css.addClass(this.container,this.componentName),lc.Extendable.call(this),lc.events.Producer.call(this),this.registerEvents(["configured","built"]),t||(this.performConfiguration(),n||this.performBuild())},{componentName:null,_configured:!1,configure:function(){},isConfigured:function(){return this._configured},_built:!1,build:function(){},isBuilt:function(){return this._built},performConfiguration:function(){this.callExtensions("preConfigure",this),this.configure(),this._configured=!0,this.callExtensions("postConfigure",this),this.trigger("configured",this)},performBuild:function(){this.callExtensions("preBuild",this),this.build(),this._built=!0,this.callExtensions("postBuild",this),this.trigger("built",this)},destroy:function(){if(!this._destroyed){for(this._destroyed=!0,this.callExtensions("destroyed",this),lc.Extendable.prototype.destroy.call(this),lc.Context.get(this.container).removeProperty("lc.ui.Component");0<this.container.childNodes.length;){var e=this.container.removeChild(this.container.childNodes[0]);1==e.nodeType&&lc.events.destroyed(e)}this.container=null,lc.events.Producer.prototype.destroy.call(this)}}}),lc.core.namespace("lc.ui.Component.Registry",{components:[],_listeners:[],register:function(e){if(!e.prototype.componentName)throw"Missing componentName";lc.ui.Component.Registry.components.push(e),lc.async.Callback.callListeners(lc.ui.Component.Registry._listeners,e)},onComponentRegistered:function(e){for(var t=0;t<lc.ui.Component.Registry.components.length;++t)lc.async.Callback.callListeners(e,lc.ui.Component.Registry.components[t]);lc.ui.Component.Registry._listeners.push(e)}}),lc.core.extendClass("lc.ui.Component.Extension",lc.Extension,function(){},{extensionName:null,detect:function(e){return lc.css.hasClass(e.container,e.componentName+"-"+this.extensionName)||e.container.hasAttribute(e.componentName+"-"+this.extensionName)},init:function(e){lc.css.addClass(e.container,e.componentName+"-"+this.extensionName),e.isConfigured()&&this.postConfigure(e),e.isBuilt()&&this.postBuild(e)},preConfigure:function(e){},postConfigure:function(e){},preBuild:function(e){},postBuild:function(e){},destroyed:function(e){lc.css.removeClass(e.container,e.componentName+"-"+this.extensionName)}}),lc.ui.Component.preProcessComponent=function(e,t,n){if(1==e.nodeType){var o=lc.Context.get(e,!0);if(!o||!o.hasProperty("lc.ui.Component")){for(var i=null,s=0;s<lc.ui.Component.Registry.components.length;++s){if(e.nodeName.toLowerCase()==lc.ui.Component.Registry.components[s].prototype.componentName.toLowerCase()){lc.log.trace("lc.ui.Component","pre-processing component from element "+e.nodeName),i=new lc.ui.Component.Registry.components[s](e,!0,!0).container;break}if(lc.css.hasClass(e,lc.ui.Component.Registry.components[s].prototype.componentName.toLowerCase())){lc.log.trace("lc.ui.Component","pre-processing component from element having CSS class "+lc.ui.Component.Registry.components[s].prototype.componentName.toLowerCase()),i=new lc.ui.Component.Registry.components[s](e,!0,!0).container;break}}if(i&&(lc.Context.get(e)["lc.ui.Component"].performConfiguration(),i!=e))for(s=0;s<i.childNodes.length;++s)1==i.childNodes[s].nodeType&&lc.html.processor.process(i.childNodes[s])}}},lc.ui.Component.postProcessComponent=function(e,t,n){lc.Context.get(e,!0);var o=lc.Context.getValue(e,"lc.ui.Component");o&&o.performBuild()},lc.html.processor.addPreProcessor(lc.ui.Component.preProcessComponent,1e3),lc.html.processor.addPostProcessor(lc.ui.Component.postProcessComponent,1e3),lc.ui.Component.getInstances=function(e,t){var n=[];return t||(t=document.body),lc.ui.Component.getInstancesRecursive(e,t,n),n},lc.ui.Component.getInstancesRecursive=function(e,t,n){var o=lc.Context.getValue(t,"lc.ui.Component");!o||e&&!lc.core.instanceOf(o,e)||n.push(o);for(var i=0;i<t.childNodes.length;++i)lc.ui.Component.getInstancesRecursive(e,t.childNodes[i],n)}});
//# sourceMappingURL=lc-ui.min.js.map